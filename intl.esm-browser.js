import{ForwardRef as e,isMemo as t,createContext as r,forwardRef as n,useContext as o,Children as a,Fragment as i,useMemo as s,useRef as c,useState as l,useEffect as u}from"openinula";import{jsx as f,Fragment as h}from"openinula/jsx-runtime";function p(){return{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}}}var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function y(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function w(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var b,x=function(e){return null!==e&&"object"==typeof e},k=(b="RegExp",function(e){return function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}(e)===b.toLowerCase()});function O(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function T(e){for(var t=Object.getOwnPropertyNames(e),r=[],n=function(n){var o=t[n],a=e[o],i=[].concat(a);if("include"===o){for(var s=0;s<i.length;s++)r.push({include:i[s]});return"continue"}var c=[];i.forEach((function(e){x(e)?(c.length&&r.push(S(o,c)),r.push(S(o,e)),c=[]):c.push(e)})),c.length&&r.push(S(o,c))},o=0;o<t.length;o++)n(o);return r}function E(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.include)for(var o=[].concat(n.include),a=0;a<o.length;a++)t.push({include:o[a]});else{if(!n.type)throw new Error("The rule does not have the type attribute.");t.push(S(n.type,n))}}return t}function S(e,t){if(x(t)||(t={match:t}),t.include)throw new Error("The matching rule cannot contain the status!");var r={defaultType:e,lineBreaks:!!t.error||!!t.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};if(Object.assign(r,t),"string"==typeof r.type&&e!==r.type)throw new Error("The type attribute cannot be a string.");var n=r.match;return Array.isArray(n)?r.match=n:r.match=n?[n]:[],r.match.sort((function(e,t){return k(e)&&k(t)?0:k(t)?-1:k(e)?1:t.length-e.length})),r}var F={checkObject:x,checkRegExp:k,transferReg:O,checkSticky:function(){var e;return"boolean"==typeof(null===(e=new RegExp(""))||void 0===e?void 0:e.sticky)},getRegGroups:function(e){var t;return(null===(t=new RegExp("|"+e).exec(""))||void 0===t?void 0:t.length)-1},getRegCapture:function(e){return"("+e+")"},getRegUnion:function(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"},getReg:function(e){if("string"==typeof e)return"(?:"+O(e)+")";if(k(e)||x(e)){if(e.ignoreCase)throw new Error("/i prohibition sign");if(e.global)throw new Error("/g prohibition sign");if(e.sticky)throw new Error("/y prohibition sign");if(e.multiline)throw new Error("/m prohibition sign");return e.source}throw new Error("".concat(e,"Non-conformance to specifications!"))},getRulesByObject:T,getRulesByArray:E,getRuleOptions:S,getRules:function(e){return Array.isArray(e)?E(e):T(e)}},j=F.checkSticky()?function(e,t){return e.exec(t)}:function(e,t){return 0===e.exec(t)[0].length?null:e.exec(t)},P=function(){function e(e,t){this.buffer="",this.stack=[],this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()}return e.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedText=t?t.queuedText:"",this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},e.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.regexp=t.regexp,this.fast=t.fast}},e.prototype.popState=function(){this.setState(this.stack.pop())},e.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)},e.prototype.getGroup=function(e){for(var t=this.groups.length,r=0;r<t;r++)if(void 0!==e[r+1])return this.groups[r];throw new Error("No token type found matching text!")},e.prototype.tokenToString=function(){return this.value},e.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this.getToken(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var r=this.buffer;if(e!==r.length){var n=this.fast[r.charCodeAt(e)];if(n)return this.getToken(n,r.charAt(e),e);var o=this.regexp;o.lastIndex=e;var a=j(o,r),i=this.error;if(null==a)return this.getToken(i,r.slice(e,r.length),e);var s=this.getGroup(a),c=a[0];return i.fallback&&a.index!==e?(this.queuedGroup=s,this.queuedText=c,this.getToken(i,r.slice(e,a.index),e)):this.getToken(s,c,e)}},e.prototype.getToken=function(e,t,r){var n=0,o=1;if(e.lineBreaks){var a=/\n/g;if("\n"===t)n=1;else for(;a.exec(t);)n++,o=a.lastIndex}var i={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:this.tokenToString,offset:r,lineBreaks:n,line:this.line,col:this.col},s=t.length;if(this.index+=s,this.line+=n,0!==n?this.col=s-o+1:this.col+=s,e.shouldThrow)throw new Error("Invalid Syntax!");return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),i},e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.next();return{value:t,done:!t}}}},e}(),C={body:{doubleapos:{match:"''",value:function(){return"'"}},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:function(e){return e.slice(1,-1).replace(/''/g,"'")}},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:function(e){return e.substring(1).trim()}},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:function(e){return e.split(",")[1].trim()}},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:function(e){return e.split(",")[1].trim()}},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:function(e){return e.substring(1).trim()}},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:function(e){return e.split(":")[1].trim()}},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:function(e){return e.substring(0,e.indexOf("{")).trim()}},end:{match:/\s*\}/u,pop:1}}},R=F.getRuleOptions("error",{lineBreaks:!0,shouldThrow:!0});function M(e,t,r){var n=e&&(e.push||e.next);if(n&&!r[n])throw new Error("The state is missing.");if(e&&e.pop&&1!=+e.pop)throw new Error("The value of pop must be 1.")}function I(e,t,r){for(;e.length&&"string"==typeof e[0]&&1===e[0].length;){t[e.shift().charCodeAt(0)]=r}}function _(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];if(F.checkRegExp(o))if(null===t)t=o.unicode;else if(t!==o.unicode&&!1===r.fallback)throw new Error("If the /u flag is used, all!")}return t}function N(e,t){if(!e)throw new Error("State toggle options are not allowed in stateless tokenizers!");if(t.fallback)throw new Error("State toggle options are not allowed on fallback tokens!")}function A(e,t){return(e.error||e.fallback)&&(t&&function(e,t){throw!e.fallback==!t.fallback?new Error("errorRule can only set one!"):new Error("fallback and error cannot be set at the same time!")}(e,t),t=e),t}var B=function(e,t){var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var n=r.reduce((function(t,r){return t[r]=F.getRules(e[r]),t}),{}),o=function(e){for(var t,o=r[e],a=n[o],i={},s=function(e){var r=a[e];if(!r.include)return t=e,"continue";var s=[e,1];if(r.include!==o&&!i[r.include]){i[r.include]=!0;var c=n[r.include];if(!c)throw new Error("Cannot contain a state that does not exist!");c.forEach((function(e){a.includes(e)||s.push(e)}))}a.splice.apply(a,s),e--,t=e},c=0;c<a.length;c++)s(c),c=t},a=0;a<r.length;a++)o(a);var i={};return r.forEach((function(e){i[e]=function(e,t){var r=null,n={},o=!0,a=null,i=[],s=[];o=function(e,t){for(var r=0;r<e.length;r++)e[r].fallback&&(t=!1);return t}(e,o);for(var c=0;c<e.length;c++){var l=e[c];if(l.include)throw new Error("Inheritance is not allowed in stateless lexers!");r=A(l,r);var u=l.match.slice();if(o&&I(u,n,l),(l.pop||l.push||l.next)&&N(t,l),0!==u.length){o=!1,i.push(l),a=_(u,a,l);var f=F.getRegUnion(u.map(F.getReg)),h=new RegExp(f);if(h.test(""))throw new Error("The regex matched the empty string!");if(F.getRegGroups(f)>0)throw new Error("The regular expression uses capture groups, use (?: â€¦ ) instead!");if(!l.lineBreaks&&h.test("\n"))throw new Error("The matching rule must contain lineBreaks.");s.push(F.getRegCapture(f))}}var p=r&&r.fallback,g=F.checkSticky()&&!p?"ym":"gm",m=F.checkSticky()||p?"":"|";return!0===a&&(g+="u"),{regexp:new RegExp(F.getRegUnion(s)+m,g),groups:i,fast:n,error:r||R}}(n[e],!0)})),r.forEach((function(e){var t=i[e];t.groups.forEach((function(e){M(e,0,i)})),Object.getOwnPropertyNames(t.fast).forEach((function(e){M(t.fast[e],0,i)}))})),new P(i,t)}(C),D={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},q={vtype:!0,render:!0,defaultProps:!0,key:!0,type:!0};m(m({},q),{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0});var z,K={vtype:!0,compare:!0,defaultProps:!0,type:!0},U=["zero","one","two","few","many","other"],G=function(e){return{offset:e.offset,line:e.line,col:e.col,text:e.text,lineNum:e.lineBreaks}},V=function(e){return"plural"===e||"select"===e||"selectordinal"===e},W=function(){function e(e){this.cardinalKeys=U,this.ordinalKeys=U,this.lexer=B.reset(e)}return e.prototype.isSelectKeyValid=function(e,t,r){if("="===r[0]){if("select"===t)throw new Error("The key value of the select type is invalid.")}else if("select"!==t){var n="plural"===t?this.cardinalKeys:this.ordinalKeys;if(n.length>0&&!n.includes(r))throw new Error("".concat(t," type key value is invalid."))}},e.prototype.processSelect=function(e,t,r,n){var o,a,i={type:n,arg:e.value,cases:[],ctx:r};"plural"!==n&&"selectordinal"!==n||(t=!0);try{for(var s=v(this.lexer),c=s.next();!c.done;c=s.next()){var l=c.value;switch(l.type){case"offset":if("select"===n)throw new Error("The complex offset of the select type is incorrect.");if(i.cases.length>0)throw new Error("The complex offset must be set before cases.");i.offset=Number(l.value),r.text+=l.text,r.lineNum+=l.lineBreaks;break;case"case":this.isSelectKeyValid(l,n,l.value),i.cases.push({key:l.value.replace(/=/g,""),tokens:this.parse(t),ctx:G(l)});break;case"end":return i;default:throw new Error("Unrecognized analyzer token: ".concat(l.type))}}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new Error("The message end position is invalid.")},e.prototype.parseToken=function(e,t){var r=G(e),n=this.lexer.next();if(!n)throw new Error("The message end position is invalid.");switch(r.text+=n.text,r.lineNum+=n.lineBreaks,n.type){case"end":return{type:"argument",arg:e.value,ctx:r};case"func-simple":var o=this.lexer.next();if(!o)throw new Error("The message end position is invalid.");if("end"!==o.type)throw new Error("Unrecognized analyzer token: ".concat(o.type));if(r.text+=o.text,V(n.value.toLowerCase()))throw new Error("Invalid parameter type: ".concat(n.value));return{type:"function",arg:e.value,key:n.value,ctx:r};case"func-args":if(V(n.value.toLowerCase()))throw new Error("Invalid parameter type: ".concat(n.value));var a=this.parse(t);return{type:"function",arg:e.value,key:n.value,param:a,ctx:r};case"select":if(V(n.value))return this.processSelect(e,t,r,n.value);throw new Error("Invalid select type: ".concat(n.value));default:throw new Error("Unrecognized analyzer token: ".concat(n.type))}},e.prototype.parse=function(e,t){var r,n,o=[],a=null;try{for(var i=v(this.lexer),s=i.next();!s.done;s=i.next()){var c=s.value;if("argument"===c.type)a&&(a=null),o.push(this.parseToken(c,e));else if("octothorpe"===c.type&&e)a&&(a=null),o.push({type:"octothorpe"});else{if("end"===c.type&&!t)return o;if("doubleapos"===c.type)o.push(c.value);else if("quoted"===c.type)o.push(c.value);else if("content"===c.type)o.push(c.value);else{var l=c.value;if(!e&&"quoted"===c.type&&"#"===l[0]){if(l.includes("{"))throw new Error("Invalid template: ".concat(l));l=c.text}a?a=l:(a=l,o.push(a))}}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}if(t)return o;throw new Error("The message end position is invalid.")},e}();!function(e){e.octothorpe="OCTOTHORPE",e.argument="ARGUMENT",e.function="FUNCTION"}(z||(z={}));function $(e){return Array.isArray(e)?e.map((function(e){return function(e){if("string"==typeof e)return e;if("OCTOTHORPE"===z[e.type])return"#";if("ARGUMENT"===z[e.type])return[e.arg];if("FUNCTION"===z[e.type]){var t=e.param&&e.param.tokens[0],r="string"==typeof t?t.trim():t;return[e.arg,e.key,r].filter(Boolean)}var n=e.offset?parseInt(e.offset):void 0,o={};e.cases.forEach((function(e){o[e.key]=$(e.tokens)}));var a=Object.assign({},{offset:n},o);return[e.arg,e.type,a]}(e)})):e.join("")}function H(e){if(!e)throw new Error("I18n object is not found!")}var J={isVariantI18n:H,generateKey:function(e,t){void 0===t&&(t={});var r=Array.isArray(e)?e.sort().join("-"):e;return"".concat(r,":").concat(JSON.stringify(t))},compile:function(e){try{return $(function(e){return new W(e).parse(!1,!0)}(e))}catch(t){return console.error("Message cannot be parse due to syntax errors: ".concat(e)),e}}},Q=function(){function e(e,t,r){this.locales=e,this.formatOptions=null!=t?t:{},this.cache=null!=r?r:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}}}return e.prototype.dateTimeFormat=function(e,t){var r,n=null!=t?t:this.formatOptions,o=new Intl.DateTimeFormat(this.locales,n);if("string"==typeof e&&(e=new Date(e)),null===(r=this.cache)||void 0===r?void 0:r.dateTimeFormat){var a=J.generateKey(this.locales,n);return this.cache.dateTimeFormat[a]?this.cache.dateTimeFormat[a].format(e):(this.cache.dateTimeFormat[a]=o,o.format(e))}return o.format(e)},e}(),X=function(){function e(e,t,r){this.locales=e,this.formatOption=null!=t?t:{},this.cache=null!=r?r:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}}}return e.prototype.numberFormat=function(e,t){var r,n=null!=t?t:this.formatOption,o=new Intl.NumberFormat(this.locales,n);if(null===(r=this.cache)||void 0===r?void 0:r.numberFormat){var a=J.generateKey(this.locales,n);return this.cache.numberFormat[a]?this.cache.numberFormat[a].format(e):(this.cache.numberFormat[a]=o,o.format(e))}return o.format(e)},e}(),Y=function(){function e(){this._events=new Map}return e.prototype.on=function(e,t){var r=this;return this._events.has(e)||this._events.set(e,new Set),this._events.get(e).add(t),function(){r.removeListener(e,t)}},e.prototype.removeListener=function(e,t){if(this._events.has(e)){var r=this._events.get(e);r.delete(t),0===r.size&&this._events.delete(e)}},e.prototype.emit=function(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._events.has(e)){var a=this._events.get(e);try{for(var i=v(a),s=i.next();!s.done;s=i.next()){var c=s.value;c.apply(this,n)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},e}(),Z=function(){function e(e,t,r,n,o){this.locale=e,this.locales=t,this.value=r,this.message=n,this.cache=null!=o?o:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}}}return e.prototype.replaceSymbol=function(e){var t=this,r="function"==typeof this.message?this.message(e):this.message,n=Array.isArray(r)?r:[r],o=new X(this.locales).numberFormat(this.value);if(this.cache.octothorpe){var a=J.generateKey(this.locale,this.message);if(this.cache.octothorpe[a])return n.map((function(e){return"string"==typeof e?e.replace("#",t.cache.octothorpe[a]):e}));this.cache.octothorpe[a]=o}return n.map((function(e){return"string"==typeof e?e.replace("#",o):e}))},e}(),ee=function(){function e(e,t){this.locale=e,this.cache=t}return e.prototype.getRule=function(e,t){if(this.cache.select){var r=J.generateKey(this.locale,t);if(this.cache.select[r])return this.cache.select[r][e]||this.cache.select[r].other;this.cache.select[r]=t}return t[e]||t.other},e}(),te=function(){function e(e,t,r,n,o){this.compiledMessage=e,this.locale=t,this.locales=r,this.localeConfig=n,this.cache=null!=o?o:p}return e.prototype.translate=function(e,t){var r=this;void 0===t&&(t={});var n=function(e,t,n,o,a){var i=function(s,c,l){var u,f=function(e,t,r,n,o){void 0===r&&(r={plurals:void 0}),void 0===n&&(n={}),e=t||e;var a=r.plurals,i=function(e){return"string"==typeof e?n[e]||{option:e}:e};return{plural:function(r,n){var i=n.offset,s=void 0===i?0:i,c=y(n,["offset"]),l=new Z(e,t,r-s,c[r]||c[null==a?void 0:a(r-s)]||c.other,o);return l.replaceSymbol.bind(l)},selectordinal:function(r,n,o){var i=n.offset,s=void 0===i?0:i,c=y(n,["offset"]),l=c[r]||c[null==a?void 0:a(r-s,!0)]||c.other,u=new Z(e,t,r-s,l,o);return u.replaceSymbol.bind(u)},select:function(t,r){return new ee(e,o).getRule(t,r)},numberFormat:function(e,r){return new X(t,i(r),o).numberFormat(e)},dateTimeFormat:function(e,r){return new Q(t,i(r),o).dateTimeFormat(e,r)},undefined:function(e){return e}}}(e,t,a,o,r.cache),h=n[s],p=f[c](h,l);return u="function"==typeof p?p(i):p,Array.isArray(u)?u.join(""):u};return i}(this.locale,this.locales,e,t,this.localeConfig);return this.formatMessage(this.compiledMessage,n)},e.prototype.formatMessage=function(e,t){var r=this;return Array.isArray(e)?e.map((function(e){if("string"==typeof e)return e;var n=d(e,3),o=n[0],a=n[1],i=n[2],s=i;i&&"string"!=typeof i&&(s=Object.keys(s).reduce((function(e,n){return e[n]=r.formatMessage(i[n],t),e}),{}));var c=t(o,a,s);return null!=c?c:"{".concat(o,"}")})).join(""):e},e}();var re=function(e){function t(t){var r,n=this;return(n=e.call(this)||this).locale="en",n.locales=n.locale||"",n.allMessages={},n._localeConfig={},n.error=t.error,n.loadMessage(t.messages),t.localeConfig&&n.loadLocaleConfig(t.localeConfig),(t.locale||t.locales)&&n.changeLanguage(t.locale,t.locales),n.formatMessage=n.formatMessage.bind(n),n.formatDate=n.formatDate.bind(n),n.formatNumber=n.formatNumber.bind(n),n.cache=null!==(r=t.cache)&&void 0!==r?r:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"messages",{get:function(){var e,t;return this.locale in this.allMessages?null!==(e=this.allMessages[this.locale])&&void 0!==e?e:{}:null!==(t=this.allMessages)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localeConfig",{get:function(){var e;return null!==(e=this._localeConfig[this.locale])&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),t.prototype.setLocaleConfig=function(e,t){this._localeConfig[e]?Object.assign(this._localeConfig,t):this._localeConfig[e]=t},t.prototype.loadLocaleConfig=function(e,t){var r=this;t?this.setLocaleConfig(e,t):Object.keys(e).forEach((function(t){r.setLocaleConfig(t,e[t])})),this.emit("change")},t.prototype.setMessage=function(e,t){this.allMessages[e]?Object.assign(this.allMessages[e],t):this.allMessages[e]=t},t.prototype.loadMessage=function(e,t){var r=this;t?this.setMessage(e,t):e&&Object.keys(e).forEach((function(t){return r.setMessage(t,e[t])})),this.emit("change")},t.prototype.changeLanguage=function(e,t){this.locale=e,t&&(this.locales=t),this.emit("change")},t.prototype.formatMessage=function(e,t,r){void 0===t&&(t={});var n=void 0===r?{}:r;return function(e,t,r,n){var o;void 0===r&&(r={}),void 0===n&&(n={});var a=n.message,i=n.context,s=n.formatOptions,c=null!==(o=e.cache)&&void 0!==o?o:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}};"string"!=typeof t&&(r=r||t.defaultValues,a=t.message||t.defaultMessage,i=t.context,t=t.id);var l,u=!i&&!e.messages[t],f=i&&!e.messages[i][t]||u,h=e.error;return h&&f?"function"==typeof h?h(e.locale,t,i):h:(l="string"==typeof(l=i?e.messages[i][t]||a||t:e.messages[t]||a||t)?J.compile(l):l,new te(l,e.locale,e.locales,e.localeConfig,c).translate(r,s))}(this,e,t,{message:n.message,context:n.context,formatOptions:n.formatOptions})},t.prototype.formatDate=function(e,t){return new Q(this.locale||this.locales,t,this.cache).dateTimeFormat(e)},t.prototype.formatNumber=function(e,t){return new X(this.locale||this.locales,t,this.cache).numberFormat(e)},t}(Y);function ne(e){return void 0===e&&(e={}),new re(e)}var oe=new Map;function ae(e){return t(e)?K:oe.has(e.vtype)?oe.get(e.vtype)||D:void 0}function ie(e,t){if("string"==typeof t)return e;var r=Object.getPrototypeOf(t);r&&r!==Object.prototype&&ie(e,r);var n=w(w([],d(Object.getOwnPropertyNames(t)),!1),d(Object.getOwnPropertySymbols(t)),!1),o=ae(e),a=ae(t);return n.forEach((function(r){if(!L[r]&&(!o||!o[r])&&(!a||!a[r])&&function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return r&&(!r.get||r.get.prototype)}(t,r))try{Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}catch(e){}})),e}oe.set(e,q);var se=r(null),ce=se.Consumer,le=se.Provider;function ue(e,t){var r=(t||{}).isUsingForwardRef,o=void 0!==r&&r,a=function(t){return f(ce,{children:function(r){H(r);var n={intl:r,formatMessage:r.formatMessage,formatDate:r.DateTimeFormat,formatNumber:r.NumberFormat};return f(e,{...t,...n,ref:o?t.forwardedRef:null})}})};return a.WrappedComponent=e,ie(o?n((function(e,t){return f(a,{...e,forwardedRef:t})})):a,e)}function fe(){var e=o(se);J.isVariantI18n(e);var t=e;return{i18n:t,formatMessage:t.formatMessage.bind(t),formatNumber:t.formatNumber.bind(t),formatDate:t.formatDate.bind(t)}}function he(e){var t=fe().i18n,r=e.id,n=e.values,o=e.messages,s=e.formatOptions,c=e.context,l=e.tagName,u=void 0===l?i:l,p=e.children,g={comment:e.comment,messages:o,context:c,useMemorize:e.useMemorize,formatOptions:s},m=t.formatMessage(r,n,g);return"function"==typeof p?p(Array.isArray(m)?m:[m]):u?f(u,{children:a.toArray(m)}):f(h,{children:m})}var pe=function(e){var t=e.locale,r=e.messages,n=e.children,o=s((function(){return ne({locale:t,messages:r})}),[t,r]),a=c(o.locale),i=d(l(o),2),h=i[0],p=i[1];return u((function(){var e=function(){a.current!==o.locale&&(a.current=o.locale,p(o))},t=o.on("change",e);return e(),function(){t()}}),[o]),f(le,{value:h,children:n})},ge=function(e,t){var r=e.locale,n=e.defaultLocale;return ne({locale:r||n||"zh",messages:e.messages,cache:null!=t?t:{dateTimeFormat:{},numberFormat:{},plurals:{},select:{},octothorpe:{}}})},me={I18n:re,createIntlCache:p,createIntl:ge,DateTimeFormatter:Q,NumberFormatter:X,useIntl:fe,FormattedMessage:he,I18nContext:se,IntlProvider:pe,injectIntl:ue,RawIntlProvider:le};function ye(e){return e}function ve(e){return e}export{Q as DateTimeFormatter,he as FormattedMessage,re as I18n,se as I18nContext,pe as IntlProvider,X as NumberFormatter,le as RawIntlProvider,ge as createIntl,p as createIntlCache,me as default,ve as defineMessage,ye as defineMessages,ue as injectIntl,fe as useIntl};
